{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This source file defines a React functional component named 'CheckoutPage' which manages the user interface and logic for the checkout process in an e-commerce application. It handles form input, validation, submission to an API endpoint, and navigation upon success or failure.", "external_files": ["../api/client", "../context/CartContext", "../context/UserContext", "react", "react-router-dom"], "external_methods": ["apiPost", "useNavigate", "useCart", "useUser"], "published": ["CheckoutPage"], "classes": [], "methods": [{"name": "validate", "description": "Validates the checkout form inputs: checks for non-empty name, correctly formatted email, and placeholder payment info."}, {"name": "submit", "description": "Handles form submission: prevents default form submission, validates inputs, calls API to process checkout, updates user context, clears cart, shows toast message, and navigates to the purchases page."}], "calls": ["apiPost", "addPurchase", "showToast", "navigate"], "search-terms": ["CheckoutPage", "useCart", "useUser", "apiPost", "react-router-dom", "form validation", "checkout process"], "state": 2, "file_id": 33, "knowledge_revision": 75, "git_revision": "d13587c1292b9ee2bd90d145c64636728022505b", "ctags": [{"_type": "tag", "name": "CheckoutPage", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^const CheckoutPage = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^    const e = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^              aria-describedby={errors.email ? 'err-email' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^              aria-describedby={errors.name ? 'err-name' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^            aria-describedby={errors.payment ? 'err-payment' : undefined}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^              value={form.email}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^              value={form.name}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^            value={form.payment}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "navigate", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^  const navigate = useNavigate();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^      const res = await apiPost('\\/checkout', {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setErrors", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^  const [errors, setErrors] = useState({});$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setForm", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^  const [form, setForm] = useState({ name: '', email: '', payment: '' });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSubmitting", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^  const [submitting, setSubmitting] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "submit", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^  const submit = async (ev) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/audiobook-explorer-190966-190975/audio_book_store_frontend/src/pages/CheckoutPage.js", "pattern": "/^  const validate = () => {$/", "language": "JavaScript", "kind": "constant"}], "hash": "9a54d6630fe4eea57fc4632ee00e1c99", "format-version": 4, "code-base-name": "audio_book_store_frontend", "filename": "audio_book_store_frontend/src/pages/CheckoutPage.js", "fields": [{"name": "aria-describedby={errors.email ? 'err-email' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.name ? 'err-name' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-describedby={errors.payment ? 'err-payment' : undefined}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.email}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.name}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.payment}", "scope": "value", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"75": "d13587c1292b9ee2bd90d145c64636728022505b"}]}